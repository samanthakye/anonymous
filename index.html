<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hello.</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for the terminal effect */
        body {
            /* Black background with a subtle dark grey static texture */
            background-color: #000;
            background-image: radial-gradient(#111, #000);
            background-size: 1px 1px;
            overflow-y: auto; 
            cursor: default; /* Use default cursor when not typing */
        }
        
        /* Neon green text glow and flicker effect */
        .text-glitch {
            text-shadow: 0 0 3px #10b981, 0 0 8px rgba(16, 185, 129, 0.6);
            animation: flicker 3s infinite alternate;
        }

        /* Subtle flicker animation for atmosphere */
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            5% { opacity: 0.95; }
            10% { opacity: 1; }
            15% { opacity: 0.85; }
            20% { opacity: 1; }
            25% { opacity: 0.9; }
            30% { opacity: 1; }
            95% { opacity: 0.98; }
        }

        /* The animated blinking cursor */
        .cursor {
            display: inline-block;
            width: 10px;
            height: 18px;
            margin-left: 2px;
            background-color: #10b981;
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            from, to { background-color: transparent; }
            50% { background-color: #10b981; }
        }
        
        /* Style for the input field */
        #user-input {
            transition: all 0.3s ease-in-out;
            color: #10b981 !important; /* Force neon color */
        }
    </style>
</head>
<body class="font-mono text-sm h-screen flex flex-col items-center justify-center p-4">

    <!-- Terminal Output Area -->
    <div id="terminal-output" class="text-green-400 text-glitch w-full max-w-2xl overflow-y-auto mb-6">
        <!-- Initial typing happens here -->
    </div>

    <!-- Interactive Input Form (Hidden Initially) -->
    <div id="input-form" class="w-full max-w-2xl opacity-0 transition-opacity duration-1000">
        <div class="flex items-center space-x-2">
            <!-- Terminal prompt indicator -->
            <span class="text-green-400 text-glitch">></span>
            
            <input type="text" id="user-input" placeholder="[Enter Name/Code...]" 
                   class="flex-grow bg-transparent border border-green-400 text-green-400 text-glitch p-2 
                          focus:outline-none focus:border-green-600 focus:ring-1 focus:ring-green-600 rounded-sm">
            
            <button id="submit-btn" 
                    class="px-4 py-2 bg-green-900/50 text-green-400 border border-green-400 
                           hover:bg-green-700/80 hover:border-green-600 transition duration-300 rounded-sm text-xs shadow-lg">
                S U B M I T
            </button>
        </div>
    </div>
    
    <script>
        const outputElement = document.getElementById('terminal-output');
        const inputForm = document.getElementById('input-form');
        const userInput = document.getElementById('user-input');
        const submitBtn = document.getElementById('submit-btn');

        // Initial prompt to be typed
        const initialPrompt = ["hello, who are you?"];
        
        // --- Response Logic ---
        function getResponseLines(name) {
            const lowerName = name.toLowerCase().trim();
            // Display user input on the terminal
            outputElement.innerHTML = outputElement.innerHTML.slice(0, -1); // Remove final cursor
            outputElement.innerHTML += '<br> > ' + name + '<br>';

            if (lowerName.includes("professor") || lowerName.includes("prof") || lowerName.includes("admin")) {
                // Special response for the Professor/Admin
                return [
                    "// IDENTITY CONFIRMED: FACULTY LEVEL 4 ACCESS GRANTED.",
                    "// Subject: Anomalous File Submission [4A-71-C8-B3-D6-E0]",
                    "We apologize for the unorthodox delivery, Professor " + name + ".",
                    "The object is now visible.",
                    "The checksum verifies integrity. Access is secure.",
                    "",
                    "***END OF TRANSMISSION. LOGGING OUT.***",
                ];
            } else if (lowerName.length > 1) {
                // General response for any other name
                return [
                    "// IDENTITY UNKNOWN.",
                    "Your name, " + name + ", is a key that unlocks nothing here.",
                    "The system requires verification beyond simple identification.",
                    "Try again. Or don't.",
                    "",
                    "**CONNECTION REMAINS IN READ-ONLY MODE.**"
                ];
            } else {
                // Response for empty or short input
                return [
                    "// INPUT ERROR.",
                    "A name is required for basic acknowledgment. Do not play games.",
                    "",
                    "**SYSTEM RESETTING...**"
                ];
            }
        }

        let lineIndex = 0;
        let charIndex = 0;

        // --- Typing Simulation Function ---
        function typeLine(lines, callback = null) {
            if (lineIndex < lines.length) {
                const line = lines[lineIndex];
                
                if (charIndex < line.length) {
                    // Remove old cursor, append character, add new cursor
                    outputElement.innerHTML = outputElement.innerHTML.slice(0, -1);
                    outputElement.innerHTML += line.charAt(charIndex) + '<span class="cursor"></span>';
                    charIndex++;
                    setTimeout(() => typeLine(lines, callback), line.charAt(charIndex) === ' ' ? 20 : 50);
                } else {
                    // Line finished, move to next line
                    outputElement.innerHTML = outputElement.innerHTML.slice(0, -1); 
                    outputElement.innerHTML += '<br><span class="cursor"></span>';
                    lineIndex++;
                    charIndex = 0;
                    setTimeout(() => typeLine(lines, callback), 750); // Pause before next line
                }
            } else {
                // All lines finished
                outputElement.innerHTML = outputElement.innerHTML.slice(0, -1); 
                outputElement.innerHTML += '<span class="cursor"></span>';
                if (callback) {
                    callback();
                }
            }
        }

        function revealInput() {
            // Remove the final cursor from the initial typing
            outputElement.innerHTML = outputElement.innerHTML.slice(0, -1); 
            outputElement.innerHTML += '<br>';
            inputForm.style.opacity = '1';
            userInput.focus();
        }

        function handleSubmission() {
            const name = userInput.value.trim();
            if (!name) return;

            // 1. Hide the form and disable input/button
            inputForm.style.opacity = '0.5';
            userInput.disabled = true;
            submitBtn.disabled = true;
            
            // 2. Clear and reset typing state
            lineIndex = 0;
            charIndex = 0;
            
            // 3. Start typing the personalized response
            const responseLines = getResponseLines(name);
            
            // Clear the input field but keep it disabled
            userInput.value = '';
            
            typeLine(responseLines, () => {
                // Re-enable form for a potential second interaction
                inputForm.style.opacity = '1';
                userInput.disabled = false;
                submitBtn.disabled = false;
                userInput.focus();
            });
        }

        // --- Event Listeners ---
        submitBtn.addEventListener('click', handleSubmission);
        userInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault(); // Prevent default browser behavior
                handleSubmission();
            }
        });

        // Start the initial typing sequence when the page loads
        window.onload = function() {
            typeLine(initialPrompt, revealInput);
        };

    </script>
</body>
</html>